<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Rhythm Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>BeatGen2000</h1>
        </header>

        <div class="import-export-buttons">
            <button id="import-btn" class="btn btn-secondary" title="Import MIDI">
                <span class="btn-icon">ğŸ“¥</span>
                <span class="btn-text">Import</span>
            </button>
            <input type="file" id="midi-file-input" accept=".mid,.midi" style="display: none;">
            <button id="export-btn" class="btn btn-secondary" disabled title="Export MIDI">
                <span class="btn-icon">ğŸ’¾</span>
                <span class="btn-text">Export</span>
            </button>
        </div>

        <div class="options-container">
            <button id="options-toggle" class="options-toggle" title="Show/Hide Options">
                <span class="toggle-icon">âš™ï¸</span>
                <span class="toggle-text">Options</span>
            </button>
        </div>
        
        <div class="controls-panel collapsed">
            <div class="control-group">
                <label for="tempo">Tempo (BPM):</label>
                <input type="range" id="tempo" min="60" max="200" value="120">
                <span id="tempo-value">120</span>
            </div>

            <div class="control-group">
                <label for="time-signature">Time Signature:</label>
                <select id="time-signature">
                    <option value="4/4">4/4</option>
                    <option value="3/4">3/4</option>
                    <option value="2/4">2/4</option>
                    <option value="6/8">6/8</option>
                </select>
            </div>

            <div class="control-group">
                <label for="note-values">Note Values:</label>
                <div class="button-group">
                    <div class="fancy-button" data-value="16" data-selected="true">
                        <span class="note-symbol">ğ…¡</span>
                        <span class="button-text">16th</span>
                    </div>
                    <div class="fancy-button" data-value="8" data-selected="true">
                        <span class="note-symbol">ğ… </span>
                        <span class="button-text">8th</span>
                    </div>
                    <div class="fancy-button" data-value="4" data-selected="true">
                        <span class="note-symbol">ğ…Ÿ</span>
                        <span class="button-text">Quarter</span>
                    </div>
                    <div class="fancy-button" data-value="2" data-selected="false">
                        <span class="note-symbol">ğ…</span>
                        <span class="button-text">Half</span>
                    </div>
                    <div class="fancy-button" data-value="1" data-selected="false">
                        <span class="note-symbol">ğ…</span>
                        <span class="button-text">Whole</span>
                    </div>
                </div>
            </div>

            <div class="control-group">
                <label for="density">Density:</label>
                <input type="range" id="density" min="1" max="10" value="7">
                <span id="density-value">7</span>
            </div>

            <div class="control-group">
                <label for="bars">Number of Bars:</label>
                <input type="number" id="bars" min="1" max="16" value="2">
            </div>

            <div class="control-group">
                <label>Advanced Options:</label>
                <div class="button-group">
                    <div class="fancy-button" id="allow-dotted" data-selected="false">
                        <span class="note-symbol">ğ…Ÿ.</span>
                        <span class="button-text">Dotted Notes</span>
                    </div>
                    <div class="fancy-button" id="allow-triplets" data-selected="false">
                        <span class="note-symbol">ğ…Ÿğ…Ÿğ…Ÿ</span>
                        <span class="button-text">Triplets</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button id="generate-btn" class="btn btn-primary" title="Generate Rhythm">
                <span class="btn-icon">ğŸ²</span>
                <span class="btn-text">Generate</span>
            </button>
            <button id="play-btn" class="btn btn-success" disabled title="Play">
                <span class="btn-icon">â–¶</span>
                <span class="btn-text">Play</span>
            </button>
            <button id="stop-btn" class="btn btn-danger" disabled title="Stop">
                <span class="btn-icon">â¹</span>
                <span class="btn-text">Stop</span>
            </button>
        </div>

        <div class="tabs-container">
            <div class="tabs-header">
                <button class="tab-button tab-active" data-tab="notation">
                    <span class="tab-icon">ğŸ“</span>
                    <span class="tab-label">Notation</span>
                </button>
                <button class="tab-button" data-tab="sequencer">
                    <span class="tab-icon">âŠ</span>
                    <span class="tab-label">Sequencer</span>
                </button>
            </div>

            <div class="tabs-content">
                <div class="tab-panel tab-active" id="notation-tab">
                    <div class="rhythm-display">
                        <div id="rhythm-visualization"></div>
                    </div>
                </div>

                <div class="tab-panel" id="sequencer-tab">
                    <div class="sequencer-container">
                        <div class="sequencer-grid" id="sequencer-grid"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <div id="status">Ready to generate</div>
        </div>
    </div>

    <script src="midi.js"></script>
    <script src="app.js"></script>
</body>
</html>
